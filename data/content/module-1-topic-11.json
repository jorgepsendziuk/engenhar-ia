{
  "id": "module-1-topic-11",
  "title": "Agents e automação avançada",
  "content": "## Introdução\n\nAgents de IA representam o próximo nível de aplicações inteligentes. Diferente de simples chamadas de API, agents são sistemas autônomos que podem tomar decisões, usar ferramentas e realizar tarefas complexas de forma independente. Este tópico explora como agents funcionam e como usá-los para automação avançada.\n\n## O que são agentes de IA e como eles tomam decisões em etapas\n\n### Definição de Agent\n\nUm **Agent de IA** é um sistema que:\n\n- **Percebe** seu ambiente (recebe inputs)\n- **Raciocina** sobre o que fazer (processa informações)\n- **Age** no ambiente (executa ações)\n- **Aprende** com feedback (melhora com experiência)\n\n### Diferença entre LLM e Agent\n\n**LLM Simples**:\n```\nInput → LLM → Output (texto)\n```\n\n**Agent**:\n```\nInput → Raciocínio → Decisão → Ação (usar ferramenta) → Observar resultado → Raciocinar novamente → ...\n```\n\n### Como Agents Tomam Decisões\n\n**Agent Loop (Ciclo do Agente)**:\n\n1. **Percepção**: Recebe informação do ambiente\n2. **Raciocínio**: Analisa situação e decide próxima ação\n3. **Ação**: Executa ação (pode ser usar uma ferramenta)\n4. **Observação**: Observa resultado da ação\n5. **Feedback**: Aprende com resultado\n6. **Repete**: Volta ao passo 1 até objetivo ser alcançado\n\n### Exemplo Prático\n\n**Tarefa**: \"Pesquise o preço de um produto e me avise se estiver abaixo de R$ 100\"\n\n**Agent Loop**:\n\n1. **Raciocínio**: \"Preciso pesquisar o produto. Vou usar a ferramenta de busca web.\"\n2. **Ação**: Chama ferramenta `search_web(\"produto X\")`\n3. **Observação**: Recebe resultados da busca\n4. **Raciocínio**: \"Encontrei o produto. Preço é R$ 85. Está abaixo de R$ 100. Vou notificar o usuário.\"\n5. **Ação**: Chama ferramenta `send_notification(\"Produto abaixo de R$ 100!\")`\n6. **Conclusão**: Tarefa completa\n\n### Arquitetura de um Agent\n\n```javascript\nclass Agent {\n    constructor(llm, tools) {\n        this.llm = llm;           // Modelo de linguagem\n        this.tools = tools;       // Ferramentas disponíveis\n        this.memory = [];         // Histórico de ações\n    }\n    \n    async act(task) {\n        while (!this.isComplete(task)) {\n            // 1. Raciocinar\n            const reasoning = await this.think(task);\n            \n            // 2. Decidir ação\n            const action = await this.decide(reasoning);\n            \n            // 3. Executar ação\n            const result = await this.execute(action);\n            \n            // 4. Observar resultado\n            this.observe(result);\n            \n            // 5. Atualizar memória\n            this.memory.push({ action, result });\n        }\n        \n        return this.getFinalResult();\n    }\n}\n```\n\n## Exemplos reais de agentes autônomos que escrevem código e aceleram o trabalho do dev\n\n### 1. Agent de Geração de Código\n\n**Funcionalidade**: Gera código completo baseado em especificações\n\n```javascript\nconst codeAgent = {\n    tools: [\n        'read_file',      // Ler arquivos do projeto\n        'write_file',     // Escrever código\n        'run_tests',      // Executar testes\n        'search_docs'     // Consultar documentação\n    ],\n    \n    async generateFeature(specification) {\n        // 1. Analisa especificação\n        // 2. Lê código existente para entender contexto\n        // 3. Consulta documentação se necessário\n        // 4. Gera código\n        // 5. Escreve testes\n        // 6. Executa testes\n        // 7. Corrige erros se houver\n        // 8. Retorna código final\n    }\n};\n```\n\n**Exemplo de uso**:\n```\n\"Crie uma API endpoint para listar usuários com paginação e filtros\"\n\nAgent:\n1. Lê estrutura do projeto\n2. Identifica padrões de código existentes\n3. Gera endpoint seguindo padrões\n4. Cria testes\n5. Valida funcionamento\n```\n\n### 2. Agent de Debugging\n\n**Funcionalidade**: Encontra e corrige bugs automaticamente\n\n```javascript\nconst debugAgent = {\n    tools: [\n        'read_code',\n        'run_code',\n        'check_logs',\n        'search_stackoverflow',\n        'apply_fix'\n    ],\n    \n    async debug(error) {\n        // 1. Analisa erro\n        // 2. Lê código relevante\n        // 3. Busca soluções similares\n        // 4. Testa hipóteses\n        // 5. Aplica correção\n        // 6. Valida solução\n    }\n};\n```\n\n### 3. Agent de Refatoração\n\n**Funcionalidade**: Melhora código existente\n\n```javascript\nconst refactorAgent = {\n    async refactor(code, goals) {\n        // goals: ['performance', 'readability', 'maintainability']\n        \n        // 1. Analisa código\n        // 2. Identifica oportunidades de melhoria\n        // 3. Aplica refatorações\n        // 4. Mantém funcionalidade\n        // 5. Executa testes para validar\n    }\n};\n```\n\n### 4. Agent de Documentação\n\n**Funcionalidade**: Gera e mantém documentação atualizada\n\n```javascript\nconst docsAgent = {\n    async documentProject() {\n        // 1. Analisa toda a codebase\n        // 2. Identifica funções/classes sem documentação\n        // 3. Gera documentação\n        // 4. Atualiza README\n        // 5. Cria exemplos de uso\n    }\n};\n```\n\n### 5. Agent de Code Review\n\n**Funcionalidade**: Revisa código automaticamente\n\n```javascript\nconst reviewAgent = {\n    async review(pullRequest) {\n        // 1. Analisa mudanças\n        // 2. Verifica padrões de código\n        // 3. Identifica possíveis bugs\n        // 4. Sugere melhorias\n        // 5. Gera comentários no PR\n    }\n};\n```\n\n## Implementação Prática com LangChain\n\n### Agent Básico\n\n```javascript\nimport { ChatOpenAI } from 'langchain/chat_models/openai';\nimport { initializeAgentExecutorWithOptions } from 'langchain/agents';\nimport { DynamicTool } from 'langchain/tools';\n\n// Definir ferramentas\nconst tools = [\n    new DynamicTool({\n        name: 'search_web',\n        description: 'Busca informações na web',\n        func: async (query) => {\n            // Implementar busca web\n            return searchResults;\n        }\n    }),\n    new DynamicTool({\n        name: 'write_file',\n        description: 'Escreve conteúdo em arquivo',\n        func: async (content) => {\n            // Implementar escrita de arquivo\n            return 'Arquivo escrito com sucesso';\n        }\n    })\n];\n\n// Criar agent\nconst model = new ChatOpenAI({ temperature: 0 });\nconst executor = await initializeAgentExecutorWithOptions(\n    tools,\n    model,\n    { agentType: 'zero-shot-react-description' }\n);\n\n// Usar agent\nconst result = await executor.run(\n    'Pesquise sobre RAG, escreva um resumo em arquivo resumo.txt'\n);\n```\n\n### Agent com Memória\n\n```javascript\nimport { ConversationChain } from 'langchain/chains';\nimport { BufferMemory } from 'langchain/memory';\n\nconst memory = new BufferMemory();\n\nconst chain = new ConversationChain({\n    llm: model,\n    memory: memory\n});\n\n// Agent lembra conversas anteriores\nawait chain.call({ input: 'Meu nome é João' });\nawait chain.call({ input: 'Qual é meu nome?' }); // Responde: João\n```\n\n## Padrões de Agents\n\n### 1. ReAct (Reasoning + Acting)\n\nCombina raciocínio e ação:\n\n```\nThought: Preciso buscar informações sobre X\nAction: search_web\nAction Input: \"X\"\nObservation: [resultados]\nThought: Agora tenho informações suficientes\nAction: final_answer\nAction Input: [resposta baseada em observações]\n```\n\n### 2. Plan-and-Execute\n\nPrimeiro planeja, depois executa:\n\n```\n1. Planejamento: Quebrar tarefa em subtarefas\n2. Execução: Executar cada subtarefa sequencialmente\n3. Validação: Verificar se objetivo foi alcançado\n```\n\n### 3. Reflection\n\nAgent revisa e melhora suas próprias ações:\n\n```\n1. Executa ação\n2. Reflete sobre resultado\n3. Identifica melhorias\n4. Ajusta abordagem\n5. Tenta novamente\n```\n\n## Casos de Uso Avançados\n\n### 1. Agent de Desenvolvimento Completo\n\n```javascript\n// Agent que pode desenvolver features completas\nconst devAgent = {\n    async developFeature(spec) {\n        // 1. Planeja implementação\n        // 2. Cria estrutura de arquivos\n        // 3. Implementa código\n        // 4. Escreve testes\n        // 5. Executa testes\n        // 6. Corrige erros\n        // 7. Cria documentação\n        // 8. Faz commit\n    }\n};\n```\n\n### 2. Agent de Análise de Código\n\n```javascript\n// Agent que analisa codebase e sugere melhorias\nconst analysisAgent = {\n    async analyzeCodebase() {\n        // 1. Escaneia todo o código\n        // 2. Identifica padrões\n        // 3. Detecta problemas\n        // 4. Sugere otimizações\n        // 5. Gera relatório\n    }\n};\n```\n\n### 3. Agent de Automação de Tarefas\n\n```javascript\n// Agent que automatiza tarefas repetitivas\nconst automationAgent = {\n    async automate(task) {\n        // Pode:\n        // - Atualizar dependências\n        // - Executar migrações\n        // - Gerar relatórios\n        // - Monitorar sistemas\n        // - Responder a eventos\n    }\n};\n```\n\n## Boas Práticas\n\n1. **Defina objetivos claros**: Agents precisam de objetivos bem definidos\n2. **Limite ações**: Evite loops infinitos com timeouts\n3. **Valide resultados**: Sempre valide ações do agent\n4. **Logging**: Registre todas as ações para debugging\n5. **Error handling**: Trate erros graciosamente\n6. **Human-in-the-loop**: Para ações críticas, peça confirmação\n\n## Limitações e Desafios\n\n- **Custo**: Agents fazem muitas chamadas de API\n- **Latência**: Múltiplas ações aumentam tempo de resposta\n- **Confiabilidade**: Agents podem tomar decisões erradas\n- **Debugging**: Mais complexo que código tradicional\n- **Controle**: Menos controle sobre execução exata\n\n## Conclusão\n\nAgents representam o futuro da automação com IA. Eles podem realizar tarefas complexas de forma autônoma, acelerando significativamente o trabalho de desenvolvedores. Compreender como agents funcionam e como implementá-los é essencial para qualquer desenvolvedor que trabalha com IA.\n\nEste foi o último tópico do Módulo 1! Você agora tem uma base sólida em fundamentos de IA e LLMs. No próximo módulo, exploraremos APIs de IA Generativa e Prompt Engineering avançado!",
  "resources": [
    {
      "type": "link",
      "title": "LangChain Agents",
      "url": "https://python.langchain.com/docs/modules/agents/",
      "description": "Documentação sobre agents no LangChain"
    },
    {
      "type": "code",
      "title": "AutoGPT - GitHub",
      "url": "https://github.com/Significant-Gravitas/AutoGPT",
      "description": "Exemplo de agent autônomo avançado"
    },
    {
      "type": "link",
      "title": "ReAct Paper",
      "url": "https://arxiv.org/abs/2210.03629",
      "description": "Paper sobre padrão ReAct (Reasoning + Acting)"
    },
    {
      "type": "code",
      "title": "LangGraph - Agent Workflows",
      "url": "https://github.com/langchain-ai/langgraph",
      "description": "Framework para criar workflows de agents complexos"
    },
    {
      "type": "video",
      "title": "Building AI Agents - Tutorial",
      "url": "https://www.youtube.com/watch?v=example",
      "description": "Tutorial sobre como construir agents de IA"
    }
  ]
}

